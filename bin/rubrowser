#!/usr/bin/env ruby
$LOAD_PATH.push File.expand_path('../../lib', __FILE__)

require 'optparse'
require 'rubrowser'
require 'rubrowser/renderer'

options = {
  files: ARGV.empty? ? ['.'] : ARGV
}

OptionParser.new do |opts|
  opts.banner = "Usage: #{__FILE__} [options] [file] ..."

  opts.on('-v', '--version', 'Print Rubrowser version') do
    puts "Rubrowser #{Rubrowser::VERSION}"
    exit
  end

  opts.on('-h', '--help', 'Prints this help') do
    puts opts
    exit
  end
end.parse!

puts Rubrowser::Renderer.call(options)
